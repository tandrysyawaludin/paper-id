(this.webpackJsonppaper_id=this.webpackJsonppaper_id||[]).push([[0],{278:function(e,t,a){e.exports=a(475)},283:function(e,t,a){},475:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(36),i=a.n(o),c=(a(283),a(75)),l=a(227),s=a(50),m=a(19),u=a(25),d=a(478),p=a(523),h=a(546),g=a(520),f=a(228),E=a(544),b=a(522),v=a(95),y=a(521),w=a(148),x=a.n(w);x.a.initializeApp({apiKey:"AIzaSyBGsci3c-JdsYhJ7ZcqieHx_qamYcthY-A",authDomain:"paper-id-96d8e.firebaseapp.com",databaseURL:"https://paper-id-96d8e.firebaseio.com",projectId:"paper-id-96d8e",storageBucket:"paper-id-96d8e.appspot.com",messagingSenderId:"1060161130270",appId:"1:1060161130270:web:64967f954dddcf6006830f",measurementId:"G-Y3KDRHE9JC"});var j=x.a,O=function(e,t,a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var r="expires="+n.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"},D=function(e){for(var t=e+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){for(var r=a[n];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return""},S=function(e){return""!==D(e)},C=function(){return r.a.createElement(v.a,{color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(g.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")},I=Object(y.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),N=function(e){var t=e.history,a=I(),o=Object(n.useState)({}),i=Object(u.a)(o,2),c=i[0],l=i[1],y=function(e){var t=e.target,a=t.name,n=t.value;l(Object(m.a)(Object(m.a)({},c),Object(s.a)({},a,n)))};return r.a.createElement(b.a,{container:!0,component:"main",className:a.root},r.a.createElement(p.a,null),r.a.createElement(b.a,{item:!0,xs:!1,sm:4,md:7,className:a.image}),r.a.createElement(b.a,{item:!0,xs:12,sm:8,md:5,component:f.a,elevation:6,square:!0},r.a.createElement("div",{className:a.paper},r.a.createElement(v.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:a.form,noValidate:!0,onSubmit:function(e){e.preventDefault();var a=c.username,n=void 0===a?"":a,r=c.password,o=void 0===r?"":r;j.firestore().collection("users").where("username","==",n).where("password","==",o).get().then((function(e){e.forEach((function(e){e.id.trim().length>0&&(O("session",btoa(e.id),1),t.push("/summary"))}))})).catch((function(e){console.log("Error getting documents: ",e)}))}},r.a.createElement(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,onChange:y}),r.a.createElement(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:y}),r.a.createElement(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Sign In"),r.a.createElement(b.a,{container:!0},r.a.createElement(b.a,{item:!0,xs:!0},r.a.createElement(g.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(b.a,{item:!0},r.a.createElement(g.a,{href:"#",variant:"body2"},"Don't have an account? Sign Up"))),r.a.createElement(E.a,{mt:5},r.a.createElement(C,null))))))},T=a(543),k=a(541),B=a(547),A=a(542),W=a(526),F=a(545),H=a(5),R=a(480),z=a(531),Y=a(532),L=a(528),U=a(548),P=a(529),G=a(527),q=a(549),J=a(530),K=a(213),M=a.n(K),V=a(214),_=a.n(V),X=a(215),Z=a.n(X),$=Object(y.a)((function(e){return{toolbarIcon:Object(m.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(s.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),menuLink:{textDecoration:"none",color:"inherit"},avatar:{width:e.spacing(8),height:e.spacing(8),margin:"10px auto 6px"},loadingIcon:{margin:"6px auto"}}})),Q=function(e){var t=e.open,a=e.handleDrawerClose,o=$(),i=Object(n.useState)({}),l=Object(u.a)(i,2),s=l[0],m=l[1],d=Object(n.useState)(!0),p=Object(u.a)(d,2),h=p[0],g=p[1];return Object(n.useEffect)((function(){j.firestore().collection("users").where("username","==","admin").get().then((function(e){e.forEach((function(e){m({userId:e.id,userName:e.data().username,name:e.data().name})})),g(!1)})).catch((function(e){console.log("Error getting documents: ",e)}))}),[]),r.a.createElement(U.a,{variant:"permanent",classes:{paper:Object(H.a)(o.drawerPaper,!t&&o.drawerPaperClose)},open:t},r.a.createElement("div",{className:o.toolbarIcon},r.a.createElement(L.a,{onClick:a},r.a.createElement(M.a,null))),r.a.createElement(P.a,null),r.a.createElement(q.a,{className:o.avatar,alt:"Remy Sharp",src:"https://material-ui.com/static/images/avatar/1.jpg"}),h?r.a.createElement(J.a,{className:o.loadingIcon,size:16}):r.a.createElement(v.a,{component:"p",align:"center"},null===s||void 0===s?void 0:s.name),r.a.createElement(P.a,null),r.a.createElement("div",null,r.a.createElement(G.a,null,r.a.createElement(c.b,{className:o.menuLink,to:"/summary"},r.a.createElement(R.a,{button:!0},r.a.createElement(z.a,null,r.a.createElement(_.a,null)),r.a.createElement(Y.a,{primary:"Summary"}))),r.a.createElement(c.b,{className:o.menuLink,to:"/home"},r.a.createElement(R.a,{button:!0},r.a.createElement(z.a,null,r.a.createElement(Z.a,null)),r.a.createElement(Y.a,{primary:"Home"}))))))},ee=a(533),te=a(537),ae=a(536),ne=a(534),re=a(535),oe=a(538);function ie(e){return r.a.createElement(v.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)}var ce=new Intl.NumberFormat("en-US",{style:"currency",currency:"IDR"}),le=function(e){var t=e.title,a=void 0===t?"":t,n=e.dataTable,o=void 0===n?[]:n,i=e.dataAccountType,c=void 0===i?[]:i,l=e.handleDelete,s=e.handleUpdate,m="function"===typeof l||"function"===typeof s;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,null,a),r.a.createElement(ee.a,{size:"small"},r.a.createElement(ne.a,null,r.a.createElement(re.a,null,r.a.createElement(ae.a,null,"Date"),r.a.createElement(ae.a,{align:"right"},"Amount"),r.a.createElement(ae.a,null,"Account Type"),m&&r.a.createElement(ae.a,null,"Actions"))),r.a.createElement(te.a,null,o.map((function(e){var t;return r.a.createElement(re.a,{key:e.id},r.a.createElement(ae.a,null,e.createdAt.toDate().toDateString()),r.a.createElement(ae.a,{align:"right"},ce.format(e.amount)),r.a.createElement(ae.a,null,null===(t=c.find((function(t){return t.id===e.accountTypeId})))||void 0===t?void 0:t.name),m&&r.a.createElement(ae.a,null,r.a.createElement(oe.a,{variant:"contained",color:"primary","aria-label":"contained primary button group"},r.a.createElement(d.a,{onClick:function(){l(e.id)}},"Delete"),r.a.createElement(d.a,{onClick:function(){s(e)}},"Update"))))})))))},se=a(539),me=a(540),ue=a(216),de=a.n(ue),pe=a(217),he=a.n(pe),ge=a(16),fe=Object(y.a)((function(e){return{toolbar:{paddingRight:24},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1}}})),Ee=function(e){var t=e.open,a=e.handleDrawerOpen,n=fe(),o=Object(ge.f)();return r.a.createElement(se.a,{position:"absolute",className:Object(H.a)(n.appBar,t&&n.appBarShift)},r.a.createElement(me.a,{className:n.toolbar},r.a.createElement(L.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:a,className:Object(H.a)(n.menuButton,t&&n.menuButtonHidden)},r.a.createElement(de.a,null)),r.a.createElement(v.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:n.title},"Home"),r.a.createElement(L.a,{color:"inherit",onClick:function(){O("session",""),o.push("/")}},r.a.createElement(he.a,null))))},be=atob(D("session")),ve=j.firestore(),ye=function(){return r.a.createElement(v.a,{color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(g.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")},we=Object(y.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"block",width:"100%"},fixedHeight:{height:240},formControl:{margin:e.spacing(1),minWidth:120,maxWidth:250,width:"100%"},btnFormControl:{margin:e.spacing(1),display:"inline-block"},pagination:{marginTop:20,display:"flex",justifyContent:"flex-end"},formContainer:{padding:10}}})),xe=function(e){var t=e.history,a=we(),o=Object(n.useState)(!0),i=Object(u.a)(o,2),c=i[0],l=i[1],g=Object(n.useState)([]),v=Object(u.a)(g,2),y=v[0],w=v[1],x=Object(n.useState)([]),j=Object(u.a)(x,2),O=j[0],D=j[1],C=Object(n.useState)({}),I=Object(u.a)(C,2),N=I[0],H=I[1],R=Object(n.useState)(!1),z=Object(u.a)(R,2),Y=z[0],L=z[1],U=Object(n.useState)(!1),P=Object(u.a)(U,2),G=P[0],q=P[1];Object(n.useEffect)((function(){S("session")?(J(),K()):t.push("/")}),[]);var J=function(){ve.collection("transactions").where("userId","==",be).get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(m.a)(Object(m.a)({},e.data()),{id:e.id}))})),w(t)})).catch((function(e){console.log("Error getting documents: ",e)}))},K=function(){ve.collection("account_type").get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(m.a)(Object(m.a)({},e.data()),{id:e.id}))})),D(t)})).catch((function(e){console.log("Error getting documents: ",e)}))},M=function(e){e.preventDefault();var t=e.target,a=t.name,n=t.value;H(Object(m.a)(Object(m.a)({},N),Object(s.a)({},a,n)))};return r.a.createElement("div",{className:a.root},r.a.createElement(p.a,null),r.a.createElement(Ee,{open:c,handleDrawerOpen:function(){l(!0)}}),r.a.createElement(Q,{classes:a,open:c,handleDrawerClose:function(){l(!1)}}),r.a.createElement(k.a,{onClose:function(){q(!1)},open:G},r.a.createElement("form",{noValidate:!0,autoComplete:"off",className:a.formContainer,onSubmit:function(e){e.preventDefault(),(null===N||void 0===N?void 0:N.id)?ve.collection("transactions").doc(null===N||void 0===N?void 0:N.id).set(Object(m.a)(Object(m.a)({},N),{amount:parseInt(null===N||void 0===N?void 0:N.amount),accountTypeId:null===N||void 0===N?void 0:N.accountTypeId,createdAt:new Date})).then((function(){J(),q(!1)})).catch((function(e){console.error("Error writing document: ",e)})):ve.collection("transactions").add({userId:be,amount:parseInt(null===N||void 0===N?void 0:N.amount),accountTypeId:null===N||void 0===N?void 0:N.accountTypeId,createdAt:new Date}).then((function(e){J(),q(!1)})).catch((function(e){console.error("Error adding document: ",e)}))}},r.a.createElement(h.a,{fullWidth:!0,label:"Amount",defaultValue:parseInt(null===N||void 0===N?void 0:N.amount),variant:"outlined",onChange:M,name:"amount",type:"number",margin:"normal"}),r.a.createElement(W.a,{variant:"outlined",fullWidth:!0,margin:"normal"},r.a.createElement(B.a,{id:"account-type-select"},"Account Type"),r.a.createElement(F.a,{labelId:"account-type-select",onChange:M,defaultValue:null===N||void 0===N?void 0:N.accountTypeId,name:"accountTypeId",label:"Account Type"},O.map((function(e){return r.a.createElement(A.a,{value:e.id,key:e.id},e.name)})))),r.a.createElement(d.a,{margin:"normal",fullWidth:!0,variant:"contained",color:"primary",type:"submit"},"Submit"))),r.a.createElement(k.a,{onClose:function(){L(!1)},open:Y},"Start Date should be lower than End Date"),r.a.createElement("main",{className:a.content},r.a.createElement("div",{className:a.appBarSpacer}),r.a.createElement(T.a,{maxWidth:"lg",className:a.container},r.a.createElement(b.a,{container:!0,spacing:3},r.a.createElement(b.a,{item:!0,xs:12,md:12,lg:12},r.a.createElement(f.a,{className:a.paper},r.a.createElement(d.a,{className:a.btnFormControl,variant:"contained",color:"primary",type:"submit",onClick:function(){q(!0),H({})}},"Create Transaction"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=N.startDate,a=void 0===t?0:t,n=N.endDate,r=void 0===n?0:n;new Date(a)>new Date(r)?L(!0):ve.collection("transactions").where("userId","==",be).get().then((function(e){var t=[];e.forEach((function(e){e.data().createdAt.toDate()>=new Date(a)&&e.data().createdAt.toDate()<=new Date(r)&&t.push(Object(m.a)(Object(m.a)({},e.data()),{id:e.id}))})),w(t)})).catch((function(e){console.log("Error getting documents: ",e)}))},className:a.root,noValidate:!0,autoComplete:"off"},r.a.createElement(h.a,{label:"Start Date",InputLabelProps:{shrink:!0},type:"date",variant:"outlined",className:a.formControl,onChange:M,value:null===N||void 0===N?void 0:N.startDate,name:"startDate"}),r.a.createElement(h.a,{label:"End Date",InputLabelProps:{shrink:!0},type:"date",variant:"outlined",className:a.formControl,onChange:M,value:null===N||void 0===N?void 0:N.endDate,name:"endDate"}),r.a.createElement(d.a,{className:a.btnFormControl,variant:"contained",color:"primary",type:"submit"},"Search")),r.a.createElement(le,{dataAccountType:O,dataTable:y,handleDelete:function(e){ve.collection("transactions").doc(e).delete().then((function(){J()})).catch((function(e){console.error("Error removing document: ",e)}))},handleUpdate:function(e){q(!0),H(e)}})))),r.a.createElement(E.a,{pt:4},r.a.createElement(ye,null)))))},je=a(32),Oe=a(57);var De=function(e){var t=e.dataTransaction,a=Object(je.a)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,null,"This Month"),r.a.createElement(Oe.d,null,r.a.createElement(Oe.c,{data:null===t||void 0===t?void 0:t.dataMonthly,margin:{top:16,right:16,bottom:0,left:24}},r.a.createElement(Oe.e,{dataKey:"time",stroke:a.palette.text.secondary},r.a.createElement(Oe.a,{position:"top",style:{textAnchor:"middle",fill:a.palette.text.primary}},"Date")),r.a.createElement(Oe.f,{stroke:a.palette.text.secondary},r.a.createElement(Oe.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:a.palette.text.primary}},"K (IDR)")),r.a.createElement(Oe.b,{type:"monotone",dataKey:"amount",stroke:a.palette.primary.main,dot:!1}))))},Se=Object(y.a)({depositContext:{flex:1}}),Ce=new Intl.NumberFormat("en-US",{style:"currency",currency:"IDR"}),Ie=function(e){var t=e.totalTransaction,a=Se();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,null,"Total Transaction"),r.a.createElement(v.a,{component:"p",variant:"h4"},Ce.format(t)),r.a.createElement(v.a,{color:"textSecondary",className:a.depositContext},"this month"))},Ne=atob(D("session")),Te=j.firestore(),ke=function(){return r.a.createElement(v.a,{color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(g.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")},Be=Object(y.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),Ae=[{path:"/",exact:!0,component:N},{path:"/home",exact:!0,component:xe},{path:"/summary",exact:!0,component:function(e){var t=e.history,a=Be(),o=Object(H.a)(a.paper,a.fixedHeight),i=Object(n.useState)(!0),c=Object(u.a)(i,2),l=c[0],s=c[1],d=Object(n.useState)([]),h=Object(u.a)(d,2),g=h[0],v=h[1],y=Object(n.useState)({}),w=Object(u.a)(y,2),x=w[0],j=w[1];Object(n.useEffect)((function(){S("session")?(D(),O()):t.push("/")}),[]);var O=function(){var e=new Date,t=e.getFullYear(),a=e.getMonth(),n=new Date(t,a,1),r=new Date(t,a+1,0),o=(new Date).setHours(0,0,0,0),i=(new Date).setHours(23,59,59,999);Te.collection("transactions").where("userId","==",Ne).get().then((function(e){var t=[],a=[];e.forEach((function(e){e.data().createdAt.toDate()>=n&&e.data().createdAt.toDate()<=r&&t.push(Object(m.a)(Object(m.a)({},e.data()),{time:e.data().createdAt.toDate().getDate()})),e.data().createdAt.toDate()>=o&&e.data().createdAt.toDate()<=i&&a.push(e.data())})),j({dataMonthly:t,dataDaily:a,totalTransaction:t.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0)})})).catch((function(e){console.log("Error getting documents: ",e)}))},D=function(){Te.collection("account_type").get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(m.a)(Object(m.a)({},e.data()),{id:e.id}))})),v(t)})).catch((function(e){console.log("Error getting documents: ",e)}))};return r.a.createElement("div",{className:a.root},r.a.createElement(p.a,null),r.a.createElement(Ee,{open:l,handleDrawerOpen:function(){s(!0)}}),r.a.createElement(Q,{classes:a,open:l,handleDrawerClose:function(){s(!1)}}),r.a.createElement("main",{className:a.content},r.a.createElement("div",{className:a.appBarSpacer}),r.a.createElement(T.a,{maxWidth:"lg",className:a.container},r.a.createElement(b.a,{container:!0,spacing:3},r.a.createElement(b.a,{item:!0,xs:12,md:8,lg:9},r.a.createElement(f.a,{className:o},r.a.createElement(De,{dataTransaction:x}))),r.a.createElement(b.a,{item:!0,xs:12,md:4,lg:3},r.a.createElement(f.a,{className:o},r.a.createElement(Ie,{totalTransaction:null===x||void 0===x?void 0:x.totalTransaction}))),r.a.createElement(b.a,{item:!0,xs:12},r.a.createElement(f.a,{className:a.paper},r.a.createElement(le,{dataAccountType:g,title:"Today Transaction",dataTable:null===x||void 0===x?void 0:x.dataDaily})))),r.a.createElement(E.a,{pt:4},r.a.createElement(ke,null)))))}},{path:"/financial",exact:!0,component:N,routes:[{path:"/financial/account",exact:!0,component:N},{path:"/financial/transaction",exact:!0,component:N}]}],We=function(e){return r.a.createElement(c.a,null,Object(l.a)(Ae))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(We,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[278,1,2]]]);
//# sourceMappingURL=main.a12f1e45.chunk.js.map